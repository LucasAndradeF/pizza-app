<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bulma@1.0.2/css/bulma.min.css"
    />
    <link rel="stylesheet" href="css/main.css" />
    <title>Pedido</title>
  </head>
  <body>
    <header>
      <h1 class="title">Tela de Pedido</h1>
    </header>
    <section class="cardapio">
      <h2 class="subtitle">Escolha os itens:</h2>
      <div id="menu-items" class="columns is-multiline"></div>
    </section>
    <section class="pedido">
      <h2 class="subtitle">Seu Pedido:</h2>
      <table class="table is-fullwidth">
        <thead>
          <tr>
            <th>Item</th>
            <th>Quantidade</th>
            <th>Preço</th>
            <th>Ações</th>
          </tr>
        </thead>
        <tbody id="pedido-itens"></tbody>
      </table>
      <div><strong>Total:</strong> R$ <span id="total-preco">0,00</span></div>
      <button class="button is-success" onclick="finalizarPedido()">
        Finalizar Pedido
      </button>
    </section>
    <!-- <script>
      const cardapio = [
        { id: 1, nome: "Margherita", preco: 35 },
        { id: 2, nome: "Calabresa", preco: 40 },
        { id: 3, nome: "Coca-Cola", preco: 5 },
        { id: 4, nome: "Tiramisu", preco: 20 },
      ];
      const pedido = {};
      function carregarCardapio() {
        const menuItems = document.getElementById("menu-items");
        cardapio.forEach((item) => {
          const coluna = document.createElement("div");
          coluna.className = "column is-one-quarter";
          coluna.innerHTML = `
            <div class="card">
              <div class="card-content">
                <p><strong>${item.nome}</strong></p>
                <p>R$ ${item.preco.toFixed(2)}</p>
                <button class="button is-primary" onclick="adicionarAoPedido(${
                  item.id
                })">Adicionar</button>
              </div>
            </div>
          `;
          menuItems.appendChild(coluna);
        });
      }
      function adicionarAoPedido(itemId) {
        const item = cardapio.find((i) => i.id === itemId);
        if (!pedido[itemId]) {
          pedido[itemId] = { ...item, quantidade: 1 };
        } else {
          pedido[itemId].quantidade++;
        }
        atualizarPedido();
      }
      function removerDoPedido(itemId) {
        if (pedido[itemId]) {
          delete pedido[itemId];
          atualizarPedido();
        }
      }
      function atualizarPedido() {
        const pedidoItens = document.getElementById("pedido-itens");
        const totalPreco = document.getElementById("total-preco");
        pedidoItens.innerHTML = "";
        let total = 0;
        for (const id in pedido) {
          const item = pedido[id];
          total += item.preco * item.quantidade;
          const row = document.createElement("tr");
          row.innerHTML = `
            <td>${item.nome}</td>
            <td>${item.quantidade}</td>
            <td>R$ ${(item.preco * item.quantidade).toFixed(2)}</td>
            <td>
              <button class="button is-danger is-small" onclick="removerDoPedido(${
                item.id
              })">Remover</button>
            </td>
          `;
          pedidoItens.appendChild(row);
        }
        totalPreco.textContent = total.toFixed(2);
      }
      function finalizarPedido() {
        if (Object.keys(pedido).length === 0) {
          alert("Seu pedido está vazio!");
          return;
        }
        alert("Pedido finalizado com sucesso!");
        console.log("Resumo do Pedido:", pedido);
      }
      carregarCardapio();
    </script> -->
  </body>
</html>
